allprojects {
    apply plugin: 'java'
    apply plugin: 'maven'
    apply plugin: 'signing'

    group 'com.jesus-crie'
    version '2.0.0'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    compileJava.options.encoding = 'UTF-8'

    archivesBaseName = name

    repositories {
        mavenCentral()
        jcenter()
    }

    dependencies {
        testCompile 'org.junit.platform:junit-platform-gradle-plugin:1.2.0'
        testCompile 'org.junit.platform:junit-platform-launcher:1.2.0'
        testCompile 'org.junit.jupiter:junit-jupiter-api:5.2.0'
        testCompile 'org.junit.jupiter:junit-jupiter-engine:5.2.0'
        testCompile 'org.junit.jupiter:junit-jupiter-params:5.2.0'
        testCompile 'org.hamcrest:hamcrest-junit:2.0.0.0'
    }

    task javadocJar(type: Jar) {
        classifier = 'javadoc'
        from javadoc
    }

    task sourcesJar(type: Jar) {
        classifier = 'sources'
        from sourceSets.main.allSource
    }

    artifacts {
        archives javadocJar, sourcesJar
    }

    signing {
        sign configurations.archives
    }
}

project(':modularbot-core') {
    dependencies {
        compile 'net.dv8tion:JDA:3.6.0_375'

        testCompile project(':modularbot-command')
    }
}

project(':modularbot-command') {
    dependencies {
        compile project(':modularbot-core')
    }
}

subprojects {
    task testLolMdr {
        doLast { task ->
            println "$task.project.group:$task.project.name:$task.project.version"
        }
    }
}
